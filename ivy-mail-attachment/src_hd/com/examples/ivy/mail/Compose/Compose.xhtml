<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:ic="http://ivyteam.ch/jsf/component"
	xmlns:p="http://primefaces.org/ui"
	xmlns:pe="http://primefaces.org/ui/extensions">
<h:body>
	<ui:composition template="/layouts/frame-10-full-width.xhtml">
		<ui:define name="title">Compose</ui:define>
		<ui:define name="content">

			<h:form id="form" enctype="multipart/form-data">

				<h:outputStylesheet name="compose.css" library="ivy-dialog" />
				<p:growl id="messages" showDetail="true" />

				<p:fieldset id="sendMail" legend="Send mail">
					<div class="formgrid">

						<div class="field grid field-chips ">
							<p:outputLabel value="To" for="to" styleClass="col-12 md:col-2" />

							<p:chips id="to" required="true" styleClass="col-12 md:col-10"
								value="#{data.bean.compose.tos}" />
						</div>

						<div class="field grid field-chips ">
							<p:outputLabel value="Cc" for="cc" styleClass="col-12 md:col-2" />

							<p:chips id="cc" styleClass="col-12 md:col-10"
								value="#{data.bean.compose.ccs}" />
						</div>

						<div class="field grid field-chips">
							<p:outputLabel value="Bcc" for="bcc" styleClass="col-12 md:col-2" />

							<p:chips id="bcc" styleClass="col-12 md:col-10"
								value="#{data.bean.compose.bccs}" />
						</div>

						<div class="field grid">
							<p:outputLabel value="Subject" for="subject"
								styleClass="col-12 md:col-2" />
							<div class="col-12 md:col-10">
								<p:inputText id="subject" required="true" styleClass="w-full"
									value="#{data.bean.compose.subject}" />
							</div>
						</div>

						<div class="field grid">
							<p:outputLabel value="Attachments" styleClass="col-12 md:col-2" />
							<div class="col-12 md:col-10">
								<p:fileUpload id="attachments" value="#{data.bean.compose.files}"
									uploadLabel="Choose" mode="simple" skinSimple="true"
									multiple="true" />
							</div>
						</div>

						<div class="field grid">
							<p:textEditor id="body" required="true" styleClass="col-12"
								height="200px" placeholder="Add a mesage"
								value="#{data.bean.compose.body}" />
						</div>

					</div>
				</p:fieldset>
				<br />
				<div class="command-btns">
					<p:commandLink id="cancel" actionListener="#{logic.close}"
						process="@this" value="Cancel" />

					<p:commandButton id="register" value="Send"
						actionListener="#{logic.sendMail}" update="sendMail messages"
						process="sendMail" icon="fa-solid fa-paper-plane" />
				</div>
			</h:form>
		</ui:define>
	</ui:composition>
</h:body>

</html>

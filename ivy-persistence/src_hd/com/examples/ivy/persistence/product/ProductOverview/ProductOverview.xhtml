<html xmlns="http://www.w3.org/1999/xhtml" xmlns:f="http://xmlns.jcp.org/jsf/core"
  xmlns:h="http://xmlns.jcp.org/jsf/html" xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
  xmlns:ic="http://ivyteam.ch/jsf/component" xmlns:p="http://primefaces.org/ui"
  xmlns:pe="http://primefaces.org/ui/extensions">
<h:body>
  <ui:composition template="/layouts/frame-10-full-width.xhtml">
    <ui:define name="title">ProductOverview</ui:define>
    <ui:define name="content">

      <h:form id="form">

				<p:dataTable id="productTable" widgetVar="productTable"
					value="#{data.bean.products}" lazy="true" var="product"
					paginator="true" rows="10" stripedRows="true"
					paginatorAlwaysVisible="true" paginatorPosition="bottom"
					rowSelectMode="none" filterEvent="enter"
					paginatorTemplate="{RowsPerPageDropdown} {FirstPageLink} {PreviousPageLink} {CurrentPageReport} {NextPageLink} {LastPageLink}"
					rowsPerPageTemplate="5,10,15" resizableColumns="true"
					rowIndexVar="rowIndex" rowKey="#{product.id}"
					selectionPageOnly="false" scrollable="true">

					<p:column headerText="Name" sortBy="#{_.NAME}" filterBy="#{_.NAME}">
						<h:outputText value="#{product.name}" />
					</p:column>

					<p:column headerText="Description" sortBy="#{_.DESCRIPTION}"
						filterBy="#{_.DESCRIPTION}">
						<h:outputText value="#{product.description}" />
					</p:column>

					<p:column headerText="Price" width="80px" sortBy="#{_.PRICE}"
						filterBy="#{_.PRICE}">
						<h:outputText value="#{product.price}" />
					</p:column>

					<!-- Filter with multiple values -->
					<p:column headerText="Category" sortBy="#{_.CATEGORY}"
						filterBy="#{_.CATEGORY}">
						<f:facet name="filter">
							<p:selectCheckboxMenu multiple="true"
								emptyLabel="Please select..."
								onchange="PF('productTable').filter()">
								<f:selectItems value="#{data.bean.categories}" var="category"
									itemValue="#{category}" itemLabel="#{category.text}" />
							</p:selectCheckboxMenu>
						</f:facet>

						<h:outputText value="#{product.category.text}" />
					</p:column>

					<p:column headerText="Quantity" width="100px"
						sortBy="#{_.QUANTITY}" filterBy="#{_.QUANTITY}">
						<f:facet name="filter">
							<p:inputMask placeholder="min-max" mask="9{0,}-9{0,}" validateMask="false"
								 
								onchange="PF('productTable').filter()" />
						</f:facet>

						<h:outputText value="#{product.quantity}" />
					</p:column>

					<p:column headerText="Rating" width="80px" sortBy="#{_.RATING}"
						filterBy="#{_.RATING}">
						<h:outputText value="#{product.rating}" />
					</p:column>

					<p:column headerText="Updated at" width="200px"
						sortBy="#{_.UDATED_AT}" filterBy="#{_.UDATED_AT}">
						<f:facet name="filter">
							<p:datePicker selectionMode="range"
								onchange="PF('productTable').filter()"
								converter="javax.faces.DateTime"
								pattern="#{dateTimePatternBean.datePattern}" />
						</f:facet>

						<h:outputText value="#{product.updatedDate}">
							<f:convertDateTime locale="#{localeBean.locale}"
								pattern="#{dateTimePatternBean.dateTimestampPattern}" />
						</h:outputText>
					</p:column>

					<!-- Filter with single value -->
					<p:column headerText="Status" sortBy="#{_.STATUS}"
						filterBy="#{_.STATUS}">
						<f:facet name="filter">
							<p:selectOneMenu onchange="PF('productTable').filter()">
								<f:selectItem itemLabel="" itemValue="" noSelectionOption="true" />
								<f:selectItems value="#{data.bean.status}" var="status"
									itemValue="#{status}" itemLabel="#{status.text}" />
							</p:selectOneMenu>
						</f:facet>

						<h:outputText value="#{product.status.text}" />
					</p:column>

				</p:dataTable>

				<br />

				<div class="command-btns">
					<p:commandButton id="btnClose" actionListener="#{logic.close}"
						value="Close" process="@this" />
				</div>
			</h:form>


    </ui:define>
  </ui:composition>
</h:body>

</html>
